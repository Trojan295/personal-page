{{ $data := index .Site.Data .Params.data_file }}

<div>
  <canvas id="{{ .Get "id"}}" width="{{ .Get "width" }}" height="{{ .Get "height" }}"></canvas>
  <script>
    var ctx = document.getElementById({{ .Get "id" }}).getContext('2d');
    var myChart = new Chart.Line(ctx, {
      data: {
        datasets: [
  {{range (index $data.datasets)}} {
            pointRadius: 0,
            fill: false,
            backgroundColor: {{ .color }},
            borderColor: {{ .color }},
            borderWidth: 2,
            label: '{{ .label }}',
            data: {{ .data }},
          },{{end}}
        ]
      },
    options: {
      title: {
        display: true,
        fontSize: 16,
        text: '{{ .Params.title }}',
      },
      scales: {
        xAxes: [{
          type: 'linear',
          scaleLabel: {
            display: true,
            labelString: '{{ .Params.xlabel }}'
          }
        }],
          yAxes: [{
            type: 'linear',
            scaleLabel: {
              display: true,
              labelString: '{{ .Params.ylabel }}'
            },
            ticks: {
              beginAtZero: true,{{ if .Params.ymax }}
              suggestedMax: 100,{{ end }}
            }
          }]
      }
    }
    });
  </script>
</div>